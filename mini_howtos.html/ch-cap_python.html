<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">

<html>

<head>

<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">

<title>Some Mini-Howtos of Interest - Python Tips and Templates</title>

<link href="index.html" rel="start">
<link href="ch-cap_3.html" rel="prev">
<link href="ch-cap_4.html" rel="next">
<link href="index.html#contents" rel="contents">
<link href="index.html#copyright" rel="copyright">
<link href="ch-cap_0.html" rel="chapter" title="1 Basic Administration">
<link href="ch-cap_1.html" rel="chapter" title="2 Network and Navigators">
<link href="ch-cap_2.html" rel="chapter" title="3 The ssh application">
<link href="ch-cap_emacs.html" rel="chapter" title="4 Emacs text editor">
<link href="ch-cap_3.html" rel="chapter" title="5 Perl Language">
<link href="ch-cap_python.html" rel="chapter" title="6 Python Tips and Templates">
<link href="ch-cap_4.html" rel="chapter" title="7 Text Processing and Formatting">
<link href="ch-cap_5.html" rel="chapter" title="8 Graphic Edition">
<link href="ch-cap_6.html" rel="chapter" title="9 Miscelanea">
<link href="ch-cap_Trans.html" rel="chapter" title="10 Translations of this document">
<link href="ch-cap_0.html#s-sec_01" rel="section" title="1.1 Reinstalling a wiped out GRUB">
<link href="ch-cap_0.html#s-sec_02" rel="section" title="1.2 Problem with journalizing">
<link href="ch-cap_0.html#s-sec_02_2" rel="section" title="1.3 Labels in ext2 and ext3 units">
<link href="ch-cap_0.html#s-sec_03" rel="section" title="1.4 Open a xconsole as normal user">
<link href="ch-cap_0.html#s-sec_04" rel="section" title="1.5 Resetting the root password">
<link href="ch-cap_0.html#s-sec_05" rel="section" title="1.6 Configure exim to use SMTP-TLS">
<link href="ch-cap_0.html#s-sec_06" rel="section" title="1.7 Compile and install the LAPACK95 interface driver routine.">
<link href="ch-cap_0.html#s-sec_07" rel="section" title="1.8 Compile and link statically with NAG and LAPACK">
<link href="ch-cap_0.html#s-sec_08" rel="section" title="1.9 Copying CUPS configuration from one server to another">
<link href="ch-cap_0.html#s-sec_09" rel="section" title="1.10 Mapping network interfaces to a fixed name.">
<link href="ch-cap_0.html#s-sec_010" rel="section" title="1.11 Using labels to mount disk partitions">
<link href="ch-cap_0.html#s-sec_011" rel="section" title="1.12 Using find and xargs">
<link href="ch-cap_0.html#s-sec_012" rel="section" title="1.13 Preparing a USB bootable Linux installation device (Fast way).">
<link href="ch-cap_0.html#s-sec_012b" rel="section" title="1.14 Preparing a USB bootable Debian installation device.">
<link href="ch-cap_0.html#s-sec_013" rel="section" title="1.15 Upgrading Flashplayer in Debian Lenny using backports.">
<link href="ch-cap_0.html#s-sec_014" rel="section" title="1.16 Passive network exploration with p0f.">
<link href="ch-cap_0.html#s-sec_015" rel="section" title="1.17 Preparing a bootable flashdisk with Billix.">
<link href="ch-cap_0.html#s-sec_016" rel="section" title="1.18 Recovering a console that is unusable.">
<link href="ch-cap_0.html#s-sec_017" rel="section" title="1.19 Simple configuration of sudo">
<link href="ch-cap_0.html#s-sec_018" rel="section" title="1.20 Check the groups to which a user belongs.">
<link href="ch-cap_0.html#s-sec_019" rel="section" title="1.21 Check the available system locale options and establish a default one.">
<link href="ch-cap_0.html#s-sec_020" rel="section" title="1.22 Change the encoding of given files.">
<link href="ch-cap_0.html#s-sec_021" rel="section" title="1.23 Problem with the wireless and nm">
<link href="ch-cap_0.html#s-sec_022" rel="section" title="1.24 Updating a Debian box from Lenny to Squeeze">
<link href="ch-cap_0.html#s-sec_023" rel="section" title="1.25 Error in file /var/lib/dpkg/status">
<link href="ch-cap_0.html#s-sec_024" rel="section" title="1.26 How to record terminal sessions using ttyrec">
<link href="ch-cap_0.html#s-sec_025" rel="section" title="1.27 Using Bash to count the number of files in a directory">
<link href="ch-cap_0.html#s-sec_026" rel="section" title="1.28 Getting detailed information about your hardware">
<link href="ch-cap_0.html#s-sec_027" rel="section" title="1.29 Adding your servers load to the screen hardstatus line">
<link href="ch-cap_0.html#s-sec_028" rel="section" title="1.30 Making a backup of a Gmail account.">
<link href="ch-cap_0.html#s-sec_errred" rel="section" title="1.31 Redirecting STDERR to SDTOUT">
<link href="ch-cap_0.html#s-sec_extrdeb" rel="section" title="1.32 Listing and extracting files from a deb package file.">
<link href="ch-cap_0.html#s-sec_script" rel="section" title="1.33 Using script to keep terminal output records.">
<link href="ch-cap_0.html#s-sec_modcompopt" rel="section" title="1.34 Checking actual kernel compiling options.">
<link href="ch-cap_0.html#s-sec_parted" rel="section" title="1.35 Formatting HD partitions larger than 2 TB">
<link href="ch-cap_0.html#s-sec_new_part" rel="section" title="1.36 Adding a partition to fstab by UUID">
<link href="ch-cap_0.html#s-sec_error_eject" rel="section" title="1.37 Error ejecting a CD">
<link href="ch-cap_1.html#s-sec_11" rel="section" title="2.1 Running multiple firefox instances">
<link href="ch-cap_1.html#s-sec_12" rel="section" title="2.2 Electronic signature with iceweasel">
<link href="ch-cap_1.html#s-sec_13" rel="section" title="2.3 Some tips to access the web using the console">
<link href="ch-cap_1.html#s-sec_14" rel="section" title="2.4 Make files in a directory downloadable from a web server">
<link href="ch-cap_2.html#s-sec_21" rel="section" title="3.1 Removing a known_hosts entry">
<link href="ch-cap_2.html#s-sec_22" rel="section" title="3.2 Generating a key pair and exporting to a remote host">
<link href="ch-cap_2.html#s-sec_23" rel="section" title="3.3 Launching with ssh programs that require a terminal">
<link href="ch-cap_2.html#s-sec_24" rel="section" title="3.4 Tunneling with ssh">
<link href="ch-cap_2.html#s-sec_tarssh" rel="section" title="3.5 Using ssh to make a tarball directly in a remote folder">
<link href="ch-cap_emacs.html#s-sec_emacs1" rel="section" title="4.1 Emacs macros">
<link href="ch-cap_emacs.html#s-sec_emacs2" rel="section" title="4.2 Changing the default system's text editor to Emacs">
<link href="ch-cap_emacs.html#s-sec_emacs3" rel="section" title="4.3 Removing empty lines in Emacs">
<link href="ch-cap_3.html#s-sec_31" rel="section" title="5.1 Installing a CPAN module">
<link href="ch-cap_3.html#s-sec_32" rel="section" title="5.2 Interesting perl oneliners">
<link href="ch-cap_3.html#s-sec_33" rel="section" title="5.3 Environment Codification and Character Ordering">
<link href="ch-cap_3.html#s-sec_34" rel="section" title="5.4 Extracting matches from a regular expressions">
<link href="ch-cap_3.html#s-sec_35" rel="section" title="5.5 Basic use of fork to launch a program">
<link href="ch-cap_3.html#s-sec_36" rel="section" title="5.6 Perl predefined variables. Some examples.">
<link href="ch-cap_3.html#s-sec_37" rel="section" title="5.7 Using a named pipe for interprocess communication in Perl">
<link href="ch-cap_3.html#s-sec_38" rel="section" title="5.8 CperlMode in Emacs">
<link href="ch-cap_3.html#s-sec_39" rel="section" title="5.9 Using Perl to benchmark code.">
<link href="ch-cap_3.html#s-sec_perlrecdir" rel="section" title="5.10 Accessing recursively files and directories in Perl">
<link href="ch-cap_python.html#s-sec_python_random" rel="section" title="6.1 Creating a vector of random data">
<link href="ch-cap_python.html#s-sec_python_boolvec" rel="section" title="6.2 Logical comparison between two boolean vectors">
<link href="ch-cap_python.html#s-sec_python_interval" rel="section" title="6.3 Creating a loop iterating on a list and the list index">
<link href="ch-cap_python.html#s-sec_python_addframecol" rel="section" title="6.4 Adding a column to a Pandas dataframe">
<link href="ch-cap_python.html#s-sec_python_maxindex" rel="section" title="6.5 Getting the maximum component of a vector and its index in numpy">
<link href="ch-cap_python.html#s-sec_python_tzone" rel="section" title="6.6 Some easy examples of offset-aware times with pytz">
<link href="ch-cap_python.html#s-sec_mplotlib_1" rel="section" title="6.7 Creating a panel array of plots with Matplotlib">
<link href="ch-cap_python.html#s-sec_mplotlib_2" rel="section" title="6.8 Creating a panel array of plots with common axes using Matplotlib">
<link href="ch-cap_4.html#s-sec_411" rel="section" title="7.1 pdftk application examples">
<link href="ch-cap_4.html#s-sec_41" rel="section" title="7.2 Merge two PostScript or PDF files">
<link href="ch-cap_4.html#s-sec_42" rel="section" title="7.3 Include et al. in bibtex">
<link href="ch-cap_4.html#s-sec_43" rel="section" title="7.4 Include bibliographical info in each chapter using LaTeX">
<link href="ch-cap_4.html#s-sec_44" rel="section" title="7.5 Comment paragraphs in LaTeX">
<link href="ch-cap_4.html#s-sec_45" rel="section" title="7.6 Installing appropriately a LaTeX package or style.">
<link href="ch-cap_4.html#s-sec_46" rel="section" title="7.7 Change the selected language in DebianDoc files">
<link href="ch-cap_4.html#s-sec_47" rel="section" title="7.8 Avoid Page %d may be too complex to print errors.">
<link href="ch-cap_4.html#s-sec_49" rel="section" title="7.9 Diverse LaTeX lists">
<link href="ch-cap_4.html#s-sec_410" rel="section" title="7.10 Use Unicode encoding in LaTeX">
<link href="ch-cap_4.html#s-sec_latexcolor" rel="section" title="7.11 Use color in LaTeX">
<link href="ch-cap_4.html#s-sec_fullpage" rel="section" title="7.12 Easy way of defining smaller margins in LaTeX">
<link href="ch-cap_4.html#s-sec_sevfootn" rel="section" title="7.13 Using the same footnote mark in LaTeX">
<link href="ch-cap_4.html#s-sec_eurosym" rel="section" title="7.14 Using the euro symbol in LaTeX">
<link href="ch-cap_4.html#s-sec_landscape" rel="section" title="7.15 Changing pages to landscape orientation in LaTeX texts">
<link href="ch-cap_4.html#s-sec_singledouble" rel="section" title="7.16 Including single column figures or tables in a double column LaTeX document">
<link href="ch-cap_5.html#s-sec_51" rel="section" title="8.1 Include greek characters in inkscape">
<link href="ch-cap_5.html#s-sec_52" rel="section" title="8.2 Include greek characters in Gimp">
<link href="ch-cap_5.html#s-sec_53" rel="section" title="8.3 Change the text baseline in inkscape">
<link href="ch-cap_5.html#s-sec_54" rel="section" title="8.4 Use ImageMagick to transform graphic files">
<link href="ch-cap_5.html#s-sec_55" rel="section" title="8.5 Enhancing colors and resolution in Gimp">
<link href="ch-cap_5.html#s-sec_56" rel="section" title="8.6 Remove the background of an image in Gimp">
<link href="ch-cap_5.html#s-sec_57" rel="section" title="8.7 Take a screenshot using Gimp">
<link href="ch-cap_5.html#s-sec_markersink" rel="section" title="8.8 Change the color of markers in inkscape">
<link href="ch-cap_6.html#s-sec_61" rel="section" title="9.1 Compute the average from the results of Moodle test grading">
<link href="ch-cap_6.html#s-sec_62" rel="section" title="9.2 Splitting in two lines a cell content in Openoffice/simpress">
<link href="ch-cap_6.html#s-sec_63" rel="section" title="9.3 Solving BADSIG errors in UBUNTU (Oneiric Ocelot)">
<link href="ch-cap_0.html#s-sec_0101" rel="subsection" title="1.1.1 Grub2 case.">
<link href="ch-cap_0.html#s-sec_0102" rel="subsection" title="1.1.2 Old Grub case.">
<link href="ch-cap_0.html#s-ref_wipedgrub" rel="subsection" title="1.1.3 References">
<link href="ch-cap_0.html#s-ref_rootpasswd" rel="subsection" title="1.5.1 References">
<link href="ch-cap_0.html#s-ref_exim" rel="subsection" title="1.6.1 References">
<link href="ch-cap_0.html#s-make_inc_77" rel="subsection" title="1.7.1 make.inc for LAPACK compilation">
<link href="ch-cap_0.html#s-make_inc_95" rel="subsection" title="1.7.2 make.inc for LAPACK95 compilation">
<link href="ch-cap_0.html#s-sec_prg_example" rel="subsection" title="1.7.3 Example of program using LAPACK95">
<link href="ch-cap_0.html#s-sec_makefile_example" rel="subsection" title="1.7.4 makefile for compiling programs with calls to LAPACK95">
<link href="ch-cap_0.html#s-ref_cupscopy" rel="subsection" title="1.9.1 References">
<link href="ch-cap_0.html#s-ref_xargs" rel="subsection" title="1.12.1 References">
<link href="ch-cap_0.html#s-ref_usbboot1" rel="subsection" title="1.13.1 References">
<link href="ch-cap_0.html#s-ref_usbboot" rel="subsection" title="1.14.1 References">
<link href="ch-cap_0.html#s-ref_flashplayer" rel="subsection" title="1.15.1 References">
<link href="ch-cap_0.html#s-ref_billix" rel="subsection" title="1.17.1 References">
<link href="ch-cap_0.html#s-ref_ttyrec" rel="subsection" title="1.26.1 References">
<link href="ch-cap_0.html#s-ref_getmailgmail" rel="subsection" title="1.30.1 References">
<link href="ch-cap_0.html#s-ref_extrdeb" rel="subsection" title="1.32.1 References">
<link href="ch-cap_0.html#s-ref_parted" rel="subsection" title="1.35.1 References">
<link href="ch-cap_1.html#s-ref_webconso" rel="subsection" title="2.3.1 References">
<link href="ch-cap_2.html#s-ref_sshtty" rel="subsection" title="3.3.1 References">
<link href="ch-cap_2.html#s-ref_sshtunnel" rel="subsection" title="3.4.1 References">
<link href="ch-cap_emacs.html#s-ref_emacs" rel="subsection" title="4.1.1 References">
<link href="ch-cap_emacs.html#s-ref_emacs03" rel="subsection" title="4.3.1 References">
<link href="ch-cap_3.html#s-sec_311" rel="subsection" title="5.1.1 First alternative for installing a CPAN module">
<link href="ch-cap_3.html#s-sec_312" rel="subsection" title="5.1.2 Second alternative for installing a CPAN module">
<link href="ch-cap_3.html#s-ref_codifs" rel="subsection" title="5.3.1 References">
<link href="ch-cap_3.html#s-ref_perlipc" rel="subsection" title="5.7.1 References">
<link href="ch-cap_3.html#s-ref_cperlmode" rel="subsection" title="5.8.1 References">
<link href="ch-cap_3.html#s-ref_benchmark" rel="subsection" title="5.9.1 References">
<link href="ch-cap_4.html#s-ref_mergepdf" rel="subsection" title="7.2.1 References">
<link href="ch-cap_4.html#s-ref_latexlists" rel="subsection" title="7.9.1 References">
<link href="ch-cap_4.html#s-ref_latexcolor" rel="subsection" title="7.11.1 References">
<link href="ch-cap_4.html#s-ref_sevfootn" rel="subsection" title="7.13.1 References">
<link href="ch-cap_4.html#s-ref_landscape" rel="subsection" title="7.15.1 References">
<link href="ch-cap_5.html#s-ref_convertgraf" rel="subsection" title="8.4.1 References">
<link href="ch-cap_5.html#s-ref_markersink" rel="subsection" title="8.8.1 References">

</head>

<body>

<p><a name="ch-cap_python"></a></p>
<hr>

<p>
[ <a href="ch-cap_3.html">previous</a> ]
[ <a href="index.html#contents">Contents</a> ]
[ <a href="ch-cap_0.html">1</a> ]
[ <a href="ch-cap_1.html">2</a> ]
[ <a href="ch-cap_2.html">3</a> ]
[ <a href="ch-cap_emacs.html">4</a> ]
[ <a href="ch-cap_3.html">5</a> ]
[ 6 ]
[ <a href="ch-cap_4.html">7</a> ]
[ <a href="ch-cap_5.html">8</a> ]
[ <a href="ch-cap_6.html">9</a> ]
[ <a href="ch-cap_Trans.html">10</a> ]
[ <a href="ch-cap_4.html">next</a> ]
</p>

<hr>

<h1>
Some Mini-Howtos of Interest
<br>Chapter 6 - Python Tips and Templates
</h1>

<hr>

<h2><a name="s-sec_python_random"></a>6.1 Creating a vector of random data</h2>

<p>
Created on April 12th, 2015.
</p>

<p>
The following snippet of <code>Ipython</code> code computes a vector, called
<var>vectorn</var>, with 10 elements of normally distributed random data
</p>

<pre>
     import numpy as np
     
     np.random.randn(10)
     Out[2]: 
     array([-0.20490308, -0.39783301, -0.6802615 , -0.57939922, -0.10054472,
            -0.20376277, -1.48068811,  0.98628113, -0.79514919, -0.09896364])
     
     vectorn = np.random.randn(200)
</pre>

<hr>

<h2><a name="s-sec_python_boolvec"></a>6.2 Logical comparison between two boolean vectors</h2>

<p>
Created on May 06th, 2015.
</p>

<p>
The following snippet of <code>Ipython</code> code defines two vector, called
<var>vectorA</var> and <var>vectorB</var>, with 20 elements of normally
distributed random data each and, using the <code>NumPy</code> function
<samp>logical_and</samp> check the occurrences where the corresponding elements
of the two vectors are larger than zero
</p>

<pre>
     import numpy as np
     
     vectorA = np.random.randn(20)
     vectorB = np.random.randn(20)
     
     boolvec = np.logical_and(vectorA &gt; 0, vectorB &gt; 0)
     
     vectorA[boolvec]
     Out[47]: array([ 0.39058535,  1.0062992 ])
     
     vectorB[boolvec]
     Out[48]: array([ 0.87795544,  0.59063525])
</pre>

<hr>

<h2><a name="s-sec_python_interval"></a>6.3 Creating a loop iterating on a list and the list index</h2>

<p>
Created on April 16th, 2015.
</p>

<p>
The following snippet of <code>Ipython</code> code uses as a starting point a a
vector, called <var>vn</var>, with 10 elements of uniformly distributed random
data in the interval $[0,1)$ and in a loop, using as iterator a pair
<var>index, value</var>, we build a symmetric matrix <var>A</var> such that
<var>A_ij = vn_i*vn_j</var>.
</p>

<pre>
     import numpy as np
     ##
     vn = np.random.rand(20)
     ##
     A_matrix = np.zeros((20,20))
     ##
     for i, ival in enumerate(vn):
         for j, jval in enumerate(vn):
             A_matrix[i,j] = ival*jval
</pre>

<p>
It can be easily optimized not computing the full matrix but the upper or lower
diagonal and adding to its transpose (beware of double counting diagonal
elements).
</p>

<hr>

<h2><a name="s-sec_python_addframecol"></a>6.4 Adding a column to a <code>Pandas</code> dataframe</h2>

<p>
Created on April 21st, 2015.
</p>

<p>
If we have a <code>Pandas</code> dataframe for example, the following one,
called <samp>df0</samp>
</p>

<pre>
     import numpy as np
     import pandas as pd
     
     vectorn = np.random.rand(20)
     df0 = pd.DataFrame(data=vectorn, columns = [&quot;s0&quot;])
</pre>

<p>
We can now add a second column of random data using the <samp>pd.Series</samp>
command; the column is labeled <samp>s1</samp>
</p>

<pre>
     vectors = np.random.rand(20)
     df0[&quot;s1&quot;] = Series(data=vectors, index = index.df0)
</pre>

<hr>

<h2><a name="s-sec_python_maxindex"></a>6.5 Getting the maximum component of a vector and its index in <code>numpy</code></h2>

<p>
Created on April 12th, 2015.
</p>

<p>
The following snippet of <code>Ipython</code> code computes a vector, called
<var>vectorn</var>, with 200 elements of uniformly distributed random data in
the interval $[0,1)$.
</p>

<pre>
     import numpy as np
     
     vectorn = np.random.rand(200)
     
     max_val, max_index = vectoru.max(), vectoru.argmax()
     
     max_val
     Out[87]: 0.99652709220203461
     
     max_index
     Out[88]: 117
</pre>

<hr>

<h2><a name="s-sec_python_tzone"></a>6.6 Some easy examples of offset-aware times with <code>pytz</code></h2>

<p>
Created on May 13th, 2015.
</p>

<p>
Dealing with imezones and the associated DST (daylight saving times) can cause
a more than serious headache.  Some (very limited) examples of their use.
</p>

<p>
Let's assume that we have two strings: <samp>stdate1 = &quot;20/03/2015
12:22&quot;</samp> and <samp>stdate1 = &quot;23/03/2015 22:22&quot;</samp> and
we want to parse them to a <samp>datetime</samp> object.  This is done as
follows:
</p>

<pre>
     from dateutil.parser import parse
     stdate1 = &quot;20/03/2015 12:22&quot;
     stdate2 = &quot;23/03/2015 22:22&quot;
     
     date1 = parse(stdate1, dayfirst=True)
     
     date2 = parse(stdate2, dayfirst=True)
     
     date1
     Out[6]: datetime.datetime(2015, 3, 20, 12, 22)
     
     date2
     Out[7]: datetime.datetime(2015, 3, 23, 22, 22)
     
     date2-date1
     Out[8]: datetime.timedelta(3, 36000)
</pre>

<p>
At this point we have offset-naive times.  If we want to transform to a given
time zone, e.g.  <samp>CET</samp> then we use
</p>

<pre>
     import pytz
     
     cet_tz = pytz.timezone(&quot;CET&quot;) 
     
     cet_date1 = cet_tz.normalize(cet_tz.localize(date1))
     cet_date2 = cet_tz.normalize(cet_tz.localize(date2))
     
     cet_date1
     Out[12]: datetime.datetime(2015, 3, 20, 12, 22, tzinfo=&lt;DstTzInfo 'CET' CET+1:00:00 STD&gt;)
     
     cet_date2-cet_date1
     Out[14]: datetime.timedelta(3, 36000)
</pre>

<p>
We can now transform these time data to <samp>UTC</samp>
</p>

<pre>
     utc_tz = pytz.timezone('UTC')
     
     utc_date1 = cet_date1.astimezone(utc_tz)
     utc_date2 = cet_date2.astimezone(utc_tz)
     
     utc_date2 - utc_date1
     Out[22]: datetime.timedelta(3, 36000)
</pre>

<p>
We can transform directly to <samp>UTC</samp> from the initially parsed
variables
</p>

<pre>
     UTC_date1 = utc_tz.normalize(utc_tz.localize(date1))
     
     UTC_date1
     Out[28]: datetime.datetime(2015, 3, 20, 12, 22, tzinfo=&lt;UTC&gt;)
     
     UTC_date1 - utc_date1
     Out[27]: datetime.timedelta(0, 3600)
</pre>

<p>
These functions can be applied on lists using lambda functions.
</p>

<hr>

<h2><a name="s-sec_mplotlib_1"></a>6.7 Creating a panel array of plots with <code>Matplotlib</code></h2>

<p>
Created on April 12th, 2015.
</p>

<p>
The following snippet of code uses a vector of length 200 with random normally
distributed data (see <a href="#s-sec_python_random">Creating a vector of
random data, Section 6.1</a>) and plot in four panels the data, their
cumulative sum, a histogram with the data, and the sum of the data to a
quadratic function.
</p>

<pre>
     import numpy as np
     from matplotlib import pyplot
     
     fig,axes = pyplot.subplots(2,2) # Define plot of 2x2 panels
     
     axes[0,0].plot(vectorn,&quot;k-o&quot;) 
     Out[36]: [&lt;matplotlib.lines.Line2D at 0x7f827af2a510&gt;]
     
     axes[0,1].plot(vectorn.cumsum(),&quot;k--&quot;)
     Out[37]: [&lt;matplotlib.lines.Line2D at 0x7f827af2a1d0&gt;]
     
     axes[1,0].hist(vectorn,bins=30,color=&quot;r&quot;,alpha=0.3)
     Out[38]: 
     (array([  3.,   0.,   2.,   2.,   4.,   2.,   6.,   4.,  10.,  12.,   8.,
              10.,  13.,  14.,  16.,  14.,   9.,  10.,   9.,  13.,   8.,   5.,
               8.,   3.,   5.,   6.,   0.,   1.,   1.,   2.]),
      array([-2.41379287, -2.24330459, -2.0728163 , -1.90232801, -1.73183972,
             -1.56135143, -1.39086315, -1.22037486, -1.04988657, -0.87939828,
             -0.70891   , -0.53842171, -0.36793342, -0.19744513, -0.02695684,
              0.14353144,  0.31401973,  0.48450802,  0.65499631,  0.8254846 ,
              0.99597288,  1.16646117,  1.33694946,  1.50743775,  1.67792603,
              1.84841432,  2.01890261,  2.1893909 ,  2.35987919,  2.53036747,
              2.70085576]),
      &lt;a list of 30 Patch objects&gt;)
     
     axes[1,1].scatter(np.arange(200),0.01*np.arange(200)**2+10*vectorn)
     Out[39]: &lt;matplotlib.collections.PathCollection at 0x7f827aedae90&gt;
     
     pyplot.show()
</pre>

<hr>

<h2><a name="s-sec_mplotlib_2"></a>6.8 Creating a panel array of plots with common axes using <code>Matplotlib</code></h2>

<p>
Created on April 12th, 2015.
</p>

<p>
The following snippet of code add different vectors of length 200 with random
normally distributed data (see <a href="#s-sec_python_random">Creating a vector
of random data, Section 6.1</a>) to a parabollic function (mimicking
experimental errors in a object free fall) and plot the results in four panels,
with common abscyssa and ordinate axes, and controlling the spacing between the
panels.
</p>

<pre>
     import numpy as np
     from matplotlib import pyplot
     
     vectorn = np.random.randn(100)
     
     result1 = 0.5*9.8*time_grid**2 + 2*vectorn
     
     result2 = 0.5*9.8*time_grid**2 + 4*vectorn
     
     result3 = 0.5*9.8*time_grid**2 + 8*vectorn
     
     result4 = 0.5*9.8*time_grid**2 + 16*vectorn
     
     fig,axes = pyplot.subplots(2,2,sharex=True,sharey=True)
     
     axes[0,0].plot(result1,&quot;k-o&quot;)
     Out[85]: [&lt;matplotlib.lines.Line2D at 0x7f827aa7ae10&gt;]
     
     axes[0,1].plot(result2,&quot;k-o&quot;)
     Out[86]: [&lt;matplotlib.lines.Line2D at 0x7f827aa7ae90&gt;]
     
     axes[1,0].plot(result3,&quot;k-o&quot;)
     Out[87]: [&lt;matplotlib.lines.Line2D at 0x7f827aa7a4d0&gt;]
     
     axes[1,1].plot(result4,&quot;k-o&quot;)
     Out[88]: [&lt;matplotlib.lines.Line2D at 0x7f827aaaff10&gt;]
     
     pyplot.subplots_adjust(wspace=0,hspace=0)
     
     pyplot.show()
</pre>

<hr>

<p>
[ <a href="ch-cap_3.html">previous</a> ]
[ <a href="index.html#contents">Contents</a> ]
[ <a href="ch-cap_0.html">1</a> ]
[ <a href="ch-cap_1.html">2</a> ]
[ <a href="ch-cap_2.html">3</a> ]
[ <a href="ch-cap_emacs.html">4</a> ]
[ <a href="ch-cap_3.html">5</a> ]
[ 6 ]
[ <a href="ch-cap_4.html">7</a> ]
[ <a href="ch-cap_5.html">8</a> ]
[ <a href="ch-cap_6.html">9</a> ]
[ <a href="ch-cap_Trans.html">10</a> ]
[ <a href="ch-cap_4.html">next</a> ]
</p>

<hr>

<p>
Some Mini-Howtos of Interest
</p>

<address>
Version $Revision: 1.90 $ ($Date: 2015/03/13 13:20:02 $)<br>
<br>
Curro Perez-Bernal <code><a href="mailto:francisco.perez@dfaie.uhu.es">francisco.perez@dfaie.uhu.es</a></code><br>
<br>
</address>
<hr>

</body>

</html>

